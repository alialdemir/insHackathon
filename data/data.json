[
    {
        "id": 1,
        "title": "slider",
        "css": ".ins-container{\r\n    border-top: 1px solid rgba(123,123,123,.1);\r\n    display: block;\r\n    position: relative;\r\n    overflow: hidden;\r\n    margin-top: 15px;\r\n    margin-left: 10px;\r\n}\r\n\r\n.ins-items-container{\r\n    transition: all 0.5s ease;\r\n}\r\n\r\n.ins-items{\r\n    float: left;\r\n}\r\n\r\n.ins-prev-button{\r\n    position: absolute;\r\n    top: 40%;\r\n    background-color: white;\r\n    text-align: center;\r\n    width:40px;\r\n    height:40px;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    z-index: 999999;\r\n    box-shadow: 1px 1px 1px 1px rgba(0,0,0,0.45);\r\n    left: 3px;\r\n}\r\n\r\n.ins-prev-button span{\r\n    position: relative;\r\n    font-size: 20px;\r\n    font-weight: thin;\r\n    color: gray;\r\n    left: 0px;\r\n    top: 8px;\r\n}\r\n\r\n.ins-next-button{\r\n    position: absolute;\r\n    top: 40%;\r\n    background-color: white;\r\n    text-align: center;\r\n    width:40px;\r\n    height:40px;\r\n    right: 3px;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    z-index: 999999;\r\n    box-shadow: 1px 1px 1px 1px rgba(0,0,0,0.45);\r\n}\r\n\r\n.ins-next-button span{\r\n    position: relative;\r\n    font-size: 20px;\r\n    font-weight: thin;\r\n    color: gray;\r\n    left: 1px;\r\n    top: 8px;\r\n}\r\n\r\n.ins-product {\r\n    width: 200px;\r\n    display: inline-block;\r\n    padding: 3px;\r\n}\r\n\r\n.ins-title {\r\n    font-weight: bold;\r\n    text-align: center;\r\n}\r\n\r\n.ins-new-price, .ins-old-price{\r\n    display: inline-block;\r\n    width: 49%;\r\n}\r\n\r\n.ins-price{\r\n    color: black;\r\n    font-weight: bold;\r\n    text-align: center;\r\n}\r\n\r\n.ins-add-to-cart-button{\r\n    background-color: #f28b00;\r\n    padding: 9px;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    color: white;\r\n    border-radius: 8px;\r\n    width: 100px;\r\n    display: block;\r\n    margin: auto;\r\n    cursor: pointer;\r\n}\r\n\r\n.ins-add-to-cart-button a{\r\n    text-decoration: none;\r\n}\r\n",
        "js": "(function(self) {\r\n    \"use strict\";\r\n\r\n    var campId = '#campId#';\r\n    var partnerId = '#partnerId#';\r\n    var currentProduct = spApi.getCurrentProduct();\r\n    var limit = '#limit#';\r\n    var lang = '#lang#';\r\n    var endPoint = 'https://predictive.api.sociaplus.com/recommendation/product?itemid=' + (currentProduct.id || '') + '&category=' + (((currentProduct || {}).cats || [])[0] || '') + '&subcategory=' + (((currentProduct || {}).cats || [])[1] || '') + '&partnerid=' + partnerId + '&with_item_details=1&lang=' + lang + '&size=' + limit;\r\n    var appendSelector = '#appendSelector#';\r\n    var itemCountPerSlide = '#itemCountPerSlide#';\r\n    var sliderWidth = 600; //600 means 600px\r\n    var itemHeight = 258;\r\n\r\n    self.construct = function() {\r\n        self.reset();\r\n        self.removeElements();\r\n        self.getData(self.buildHtml, function() {\r\n            self.slider.init();\r\n        });\r\n    };\r\n\r\n    self.reset = function() {\r\n        sQuery('#ins-rec-container-' + campId).remove();\r\n    };\r\n\r\n    self.removeElements = function() {\r\n        sQuery('#product-recommend .product').remove();\r\n    };\r\n\r\n    self.buildHtml = function(products) {\r\n        var html = '<div class=\"ins-container\" id=\"ins-rec-container-' + campId + '\" style=\"width:' + sliderWidth + 'px\" >' +\r\n            '<div class=\"ins-buttons\">' +\r\n            '<div class=\"ins-prev-button \" id=\"ins-slider-prev\"><span>&#10094;</span></div>' +\r\n            '<div class=\"ins-next-button \" id=\"ins-slider-next\"><span>&#10095;</span></div>' +\r\n            '</div>' +\r\n            '<div class=\"ins-items-container\">';\r\n\r\n        sQuery.each(products, function(index, product) {\r\n            if (index % itemCountPerSlide === 0 && index !== 0) {\r\n                html += '</div>';\r\n            }\r\n            if (index % itemCountPerSlide === 0) {\r\n                html += '<div class=\"ins-items ' + (index === 0 ? \"ins-active-slider\" : \"\") + '\">';\r\n            }\r\n\r\n            html += self.getProduct(index, product);\r\n        });\r\n\r\n        html += '</div>';\r\n\r\n        sQuery(appendSelector).append(html);\r\n    };\r\n\r\n    self.getProduct = function(index, product) {\r\n        return '<div class=\"ins-product\" style=\"width:' + ((sliderWidth / itemCountPerSlide) - 1) + 'px\">' +\r\n            '<div class=\"ins-thumbnail\">' +\r\n            '<div data-equalizer-watch=\"image\" >' +\r\n            '<div class=\"ins-image\"><a href=\"' + product.item_url + '\" class=\"' + 'sp-custom-' + campId + '-1\"><img alt=\"' + product.item_name + '\" width=\"200\" height=\"' + itemHeight + '\" src=\"' + product.item_image + '\"></a></div>' +\r\n            '</div>' +\r\n            '<div class=\"ins-title-area\">' +\r\n            '<p class=\"ins-title\"><a href=\"' + product.item_url + '\" class=\"product_name ' + 'sp-custom-' + campId + '-1\">' + product.item_name + '</a></p>' +\r\n            '</div>' +\r\n            '<div class=ins-label\">' +\r\n            '</div>' +\r\n            '<div class=\"ins-text-left ins-price-box\" data-equalizer-watch=\"info\" style=\"height: 53px;\">' +\r\n            '<div class=\"ins-price\">' + (product.item_price) + 'TL</div>' +\r\n            '</div>' +\r\n            '<div class=\"ins-add-to-cart-button  class=\"sp-custom-' + campId + '-1\"><a href=\"' + product.item_url + '\" class=\"' + 'sp-custom-' + campId + '-1\">Sepete Ekle</a></div>' +\r\n            '</div>' +\r\n            '</div>';\r\n\r\n    };\r\n\r\n    self.getData = function(fn, cb) {\r\n        sQuery.ajax({\r\n            type: \"GET\",\r\n            url: endPoint,\r\n            success: function(response) {\r\n                fn(response);\r\n                cb();\r\n            }\r\n        });\r\n    };\r\n\r\n    self.slider = {\r\n        init: function() {\r\n            var slideCount = sQuery('.ins-items').length;\r\n            var slideWidth = sQuery('.ins-items').width();\r\n            var sliderLength = slideCount * slideWidth;\r\n\r\n            sQuery('.ins-items-container').css('width', sliderLength + 'px');\r\n            sQuery('.ins-items').css('width', sQuery('.ins-items').width() + 'px');\r\n            self.slider.setEvents();\r\n        },\r\n\r\n        slidePrev: function() {\r\n            var activeSliderIndex = sQuery('.ins-items.ins-active-slider').index();\r\n            var prev = activeSliderIndex - 1;\r\n\r\n            if (prev < 0) {\r\n                prev = sQuery('.ins-items:last').index();\r\n            }\r\n\r\n            self.slider.slideTo(prev);\r\n        },\r\n\r\n        slideNext: function() {\r\n            var activeSliderIndex = sQuery('.ins-items.ins-active-slider').index();\r\n            var slideCount = sQuery('.ins-items').length - 1;\r\n            var next = activeSliderIndex + 1;\r\n\r\n            if (next > slideCount) {\r\n                next = sQuery('.ins-items:first').index();\r\n            }\r\n\r\n            self.slider.slideTo(next);\r\n        },\r\n\r\n        slideTo: function(index) {\r\n            var slideWidth = sQuery('.ins-items').width();\r\n\r\n            sQuery('.ins-items.ins-active-slider').removeClass('ins-active-slider');\r\n            sQuery('.ins-items').eq(index).addClass('ins-active-slider');\r\n            sQuery('.ins-items-container').css({\r\n                'transform': 'translateX(' + slideWidth * index * -1 + 'px)'\r\n            });\r\n        },\r\n\r\n        setEvents: function() {\r\n            sQuery('#ins-slider-next').click(function() {\r\n                self.slider.slideNext();\r\n            });\r\n            sQuery('#ins-slider-prev').click(function() {\r\n                self.slider.slidePrev();\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    self.construct();\r\n\r\n})({});",
        "config": "[\r\n    {\r\n        \"value\": \"partnerId\",\r\n        \"description\": \"Please enter partner id.\"\r\n    },\r\n    {\r\n        \"value\": \"limit\",\r\n        \"description\": \"Please enter limit of products.\"\r\n    },\r\n    {\r\n        \"value\": \"appendSelector\",\r\n        \"description\": \"Please write the selector you want to append.\"\r\n    },\r\n    {\r\n        \"value\": \"lang\",\r\n        \"description\": \"Please enter language.\"\r\n    },\r\n    {\r\n        \"value\": \"itemsCountPerSlide\",\r\n        \"description\": \"Please enter item count to be shown in slider.\"\r\n    }]"
    }
]